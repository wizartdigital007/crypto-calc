<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Fishing Game</title>
    <style>
        body { margin: 0; display: flex; flex-direction: column; align-items: center; font-family: Arial, sans-serif; }
        #gameCanvas { border: 1px solid #000; background: #87CEEB; }
        #score { font-size: 24px; margin: 10px; }
        #speedControls { margin: 10px; }
        #highScores { margin: 20px; }
        table { border-collapse: collapse; }
        th, td { padding: 8px; border: 1px solid #ccc; }
        button { padding: 5px 10px; margin: 0 5px; }
    </style>
</head>
<body>
    <div id="score">Score: 0</div>
    <div id="speedControls">
        Speed: 
        <button onclick="setSpeed(1)">1</button>
        <button onclick="setSpeed(2)">2</button>
        <button onclick="setSpeed(3)">3</button>
    </div>
    <canvas id="gameCanvas" width="600" height="400"></canvas>
    <div id="highScores">
        <h2>High Scores</h2>
        <table id="scoresTable">
            <thead><tr><th>Rank</th><th>Score</th></tr></thead>
            <tbody id="scoresBody"></tbody>
        </table>
    </div>

    <script>
        const canvas = document.getElementById("gameCanvas");
        const ctx = canvas.getContext("2d");
        const scoreDisplay = document.getElementById("score");
        const scoresBody = document.getElementById("scoresBody");

        let score = 0;
        let fish = { x: 300, y: 200, width: 50, height: 30, baseSpeed: 2, angle: 0 };
        let highScores = JSON.parse(localStorage.getItem("fishingScores")) || [];

        function drawFish() {
            ctx.fillStyle = "#FF4500";
            ctx.beginPath();
            ctx.ellipse(fish.x, fish.y, fish.width / 2, fish.height / 2, 0, 0, Math.PI * 2);
            ctx.fill();
            ctx.fillStyle = "#000";
            ctx.beginPath();
            ctx.arc(fish.x - 10, fish.y - 5, 3, 0, Math.PI * 2); // глаз
            ctx.fill();
        }

        function moveFish() {
            fish.angle += 0.05;
            fish.x += fish.baseSpeed;
            fish.y = canvas.height / 2 + Math.sin(fish.angle) * 50; // Центр + волна

            // Границы
            if (fish.x + fish.width / 2 > canvas.width) fish.x = -fish.width / 2; // Появляется слева
            if (fish.x - fish.width / 2 < 0) fish.x = canvas.width + fish.width / 2; // Появляется справа
        }

        function setSpeed(level) {
            fish.baseSpeed = level;
        }

        function updateScore() {
            scoreDisplay.innerText = `Score: ${score}`;
            if (score > Math.min(...highScores.concat(
